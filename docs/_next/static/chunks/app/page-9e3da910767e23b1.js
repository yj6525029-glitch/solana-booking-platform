(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7420:function(){},46601:function(){},65180:function(e,t,a){Promise.resolve().then(a.bind(a,61123))},61123:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return N}});var s=a(57437),n=a(2265),i=a(15408),r=a(72596);function l(){let{publicKey:e,connected:t}=(0,i.O)();return(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[t&&e?(0,s.jsxs)("span",{className:"text-sm text-cyan-400",children:[e.toString().slice(0,4),"...",e.toString().slice(-4)]}):null,(0,s.jsx)(r.a,{className:"!bg-gradient-to-r !from-cyan-500 !to-purple-600 !rounded-lg !font-semibold hover:!opacity-90"})]})}var o=a(61081),c=a(62703),d=a(64024),m=a(68651);let u=new d.PublicKey("4zMMC9sft5hLUsduh5EuG9XGTgPscsEStFcG7dd9j6cR");function x(e){let{amount:t,recipient:a,label:i,message:r,memo:l,onSuccess:x,onError:h}=e,[p,g]=(0,n.useState)(null),[b,f]=(0,n.useState)("pending"),[y,j]=(0,n.useState)(null),[N,w]=(0,n.useState)("");return(0,n.useEffect)(()=>{if(p)try{let e=(0,o.E)({recipient:new d.PublicKey(a),amount:new m.Z(t),splToken:u,label:i,message:r,memo:l});w(e.toString());let s=(0,c.w)(e,320,"white","#1a1a2e");p.innerHTML="",s.append(p)}catch(e){console.error("QR generation error:",e),h("Failed to generate QR code: "+(e instanceof Error?e.message:String(e)))}},[p,t,a,i,r,l,h]),(0,n.useEffect)(()=>{if(!N||"pending"!==b)return;let e=new d.Connection((0,d.clusterApiUrl)("devnet"),"confirmed"),t=new d.PublicKey(a),s=setInterval(async()=>{try{for(let s of(await e.getSignaturesForAddress(t,{limit:20}))){var a;if(null===(a=s.memo)||void 0===a?void 0:a.includes(l)){f("confirmed"),j(s.signature),x(s.signature);return}}}catch(e){console.error("Payment check error:",e)}},4e3);return()=>clearInterval(s)},[a,l,b,x,N]),(0,s.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,s.jsx)("div",{ref:g,className:"bg-white p-4 rounded-lg",style:{width:340,height:340}}),(0,s.jsxs)("div",{className:"text-center",children:["pending"===b&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"text-lg font-semibold text-white mb-2",children:"Pay with Solana Pay"}),(0,s.jsxs)("p",{className:"text-sm text-cyan-400",children:[t," USDC"]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Scan with Phantom or Solflare"})]}),"confirmed"===b&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"text-lg font-semibold text-green-400 mb-2",children:"✅ Payment Received!"}),(0,s.jsx)("a",{href:"https://explorer.solana.com/tx/".concat(y,"?cluster=devnet"),target:"_blank",rel:"noopener noreferrer",className:"text-xs text-cyan-400 underline",children:"View on Explorer"})]})]})]})}var h=a(13816),p=a(24477),g=a(14084);let b="Fg6PaFpoGXkYsidMpWTK6W2BeZ7FEfcYkg476zPFsLnS";function f(e){let{hotel:t,nights:a,isOpen:r,onClose:l,onSuccess:o}=e,[c,d]=(0,n.useState)("confirm"),[m,u]=(0,n.useState)(null),[f,y]=(0,n.useState)(null),[j,N]=(0,n.useState)(null),{mintBookingNFT:w,isLoading:v,error:k}=function(){let e=(0,i.O)(),{connection:t}=(0,h.R)(),[a,s]=(0,n.useState)({nft:null,isLoading:!1,error:null,status:"idle"}),r=(0,n.useMemo)(()=>{if(!e.wallet||!t||!e.publicKey)return null;try{return p.I.make(t).use((0,g.t)(e.wallet.adapter))}catch(e){return null}},[e.wallet,e.publicKey,t]),l=(0,n.useCallback)(e=>{let t=e.imageUrl||"https://images.unsplash.com/photo-1566073771259-6a8506099945?w=800&q=80";return{name:"Booking: ".concat(e.hotelName).slice(0,40),symbol:"BOOK",description:"Room reservation at ".concat(e.hotelName," in ").concat(e.location,". ").concat(e.nights," night").concat(e.nights>1?"s":""," stay."),image:t,attributes:[{trait_type:"Hotel",value:e.hotelName},{trait_type:"Location",value:e.location},{trait_type:"Room Type",value:e.roomType},{trait_type:"Check-in",value:e.checkIn},{trait_type:"Check-out",value:e.checkOut},{trait_type:"Nights",value:e.nights.toString()},{trait_type:"Price",value:"".concat(e.price," USDC")},{trait_type:"Booking ID",value:e.bookingId},{trait_type:"Network",value:"devnet"},{trait_type:"Platform",value:"Solana Booking Agent"}],properties:{category:"booking",creators:[{address:e.customerWallet,share:100}],files:[{uri:t,type:"image/jpeg"}]}}},[]),o=(0,n.useCallback)(async t=>{if(!r||!e.publicKey)return s({nft:null,isLoading:!1,error:"Wallet not connected",status:"failed"}),null;s({nft:null,isLoading:!0,error:null,status:"minting"});try{let a=l(t),{uri:n}=await r.nfts().uploadMetadata({...a});if(!n)throw Error("Failed to upload metadata");let{nft:i}=await r.nfts().create({uri:n,name:a.name,symbol:a.symbol,sellerFeeBasisPoints:0,creators:[{address:e.publicKey,share:100}]}),o={address:i.address.toString(),name:i.name,symbol:i.symbol||"BOOK",uri:i.uri,owner:e.publicKey.toString(),mintAddress:i.mint.address.toString()};return s({nft:o,isLoading:!1,error:null,status:"confirmed"}),o}catch(e){return s({nft:null,isLoading:!1,error:e instanceof Error?e.message:"Failed to mint NFT",status:"failed"}),null}},[r,e.publicKey]),c=(0,n.useCallback)(()=>{s({nft:null,isLoading:!1,error:null,status:"idle"})},[]);return{...a,mintBookingNFT:o,reset:c}}(),S=t.price*a,C="BOOKING-".concat(t.id,"-").concat(Date.now()),D=(0,n.useCallback)(async e=>{u(e),d("minting");let s=new Date,n=new Date;n.setDate(n.getDate()+a);let i={bookingId:C,hotelName:t.name,location:t.location,roomType:"Standard Room",checkIn:s.toISOString().split("T")[0],checkOut:n.toISOString().split("T")[0],nights:a,price:S,customerWallet:b,imageUrl:t.image},r=await w(i);r?(N(r),d("complete"),o()):y(k||"Failed to mint NFT")},[t,a,S,C,w,k,o]),F=(0,n.useCallback)(e=>{y(e)},[]);return r?(0,s.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-gray-900 border border-cyan-500/30 rounded-xl max-w-lg w-full overflow-hidden",children:[(0,s.jsx)("div",{className:"bg-gradient-to-r from-cyan-900/50 to-purple-900/50 px-6 py-4 border-b border-white/10",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-white",children:"Book Room"}),(0,s.jsx)("button",{onClick:l,className:"text-gray-400 hover:text-white",children:"✕"})]})}),(0,s.jsxs)("div",{className:"p-6",children:["confirm"===c&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("img",{src:t.image,alt:t.name,className:"w-full h-32 object-cover rounded-lg mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-cyan-400",children:t.name}),(0,s.jsx)("p",{className:"text-gray-400 text-sm",children:t.location})]}),(0,s.jsxs)("div",{className:"bg-black/30 rounded-lg p-4 mb-6",children:[(0,s.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Price per night"}),(0,s.jsxs)("span",{className:"text-white",children:[t.price," USDC"]})]}),(0,s.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Nights"}),(0,s.jsx)("span",{className:"text-white",children:a})]}),(0,s.jsxs)("div",{className:"border-t border-white/10 pt-2 flex justify-between",children:[(0,s.jsx)("span",{className:"text-lg font-semibold text-white",children:"Total"}),(0,s.jsxs)("span",{className:"text-lg font-bold text-green-400",children:[S," USDC"]})]})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("button",{onClick:l,className:"flex-1 py-3 bg-white/10 rounded-lg font-medium hover:bg-white/20 transition",children:"Cancel"}),(0,s.jsx)("button",{onClick:()=>d("payment"),className:"flex-1 py-3 bg-gradient-to-r from-cyan-500 to-purple-600 rounded-lg font-semibold hover:opacity-90 transition",children:"Proceed to Payment"})]})]}),"payment"===c&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"text-center mb-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white mb-1",children:"Pay with Solana Pay"}),(0,s.jsx)("p",{className:"text-sm text-gray-400",children:"Scan the QR code with your Solana wallet"})]}),(0,s.jsx)(x,{amount:S,recipient:b,label:t.name,message:"Booking at ".concat(t.name," for ").concat(a," night(s)"),memo:C,onSuccess:D,onError:F}),f&&(0,s.jsx)("div",{className:"mt-4 p-3 bg-red-500/20 border border-red-500/50 rounded-lg text-red-400 text-sm",children:f})]}),"minting"===c&&(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"animate-spin text-4xl mb-4",children:"\uD83C\uDFA8"}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"Minting Your NFT..."}),(0,s.jsx)("p",{className:"text-gray-400",children:"Creating your booking confirmation"}),m&&(0,s.jsxs)("p",{className:"text-xs text-gray-500 mt-4",children:["TX: ",m.slice(0,16),"..."]}),v&&(0,s.jsx)("p",{className:"text-sm text-cyan-400 mt-2",children:"Please approve the transaction..."})]}),"complete"===c&&(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"text-6xl mb-4",children:"✅"}),(0,s.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"Booking Confirmed!"}),(0,s.jsx)("p",{className:"text-gray-400 mb-4",children:"Your reservation is secured on-chain"}),m&&(0,s.jsx)("a",{href:"https://explorer.solana.com/tx/".concat(m,"?cluster=devnet"),target:"_blank",rel:"noopener noreferrer",className:"inline-block px-4 py-2 bg-cyan-500/20 border border-cyan-500/50 rounded-lg text-cyan-400 text-sm hover:bg-cyan-500/30 transition mb-2",children:"View Payment ↗"}),j&&(0,s.jsx)("a",{href:"https://explorer.solana.com/address/".concat(j.address,"?cluster=devnet"),target:"_blank",rel:"noopener noreferrer",className:"inline-block px-4 py-2 bg-purple-500/20 border border-purple-500/50 rounded-lg text-purple-400 text-sm hover:bg-purple-500/30 transition",children:"View NFT Receipt ↗"}),(0,s.jsx)("button",{onClick:l,className:"w-full mt-6 py-3 bg-gradient-to-r from-green-500 to-emerald-600 rounded-lg font-semibold",children:"Done"})]})]})]})}):null}function y(e){let{hotel:t}=e,[a,i]=(0,n.useState)(!1),[r,l]=(0,n.useState)(1),o=(t.price*r).toFixed(2);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl overflow-hidden border border-white/20 hover:border-cyan-500/50 transition group",children:[(0,s.jsxs)("div",{className:"relative h-48 overflow-hidden",children:[(0,s.jsx)("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover group-hover:scale-105 transition duration-500"}),(0,s.jsxs)("div",{className:"absolute top-3 left-3 bg-black/60 backdrop-blur rounded-full px-3 py-1 text-xs font-medium text-white",children:["⭐ ",t.rating]}),(0,s.jsxs)("div",{className:"absolute top-3 right-3 bg-cyan-500/90 backdrop-blur rounded-full px-3 py-1 text-xs font-medium text-white",children:[t.roomsAvailable," left"]})]}),(0,s.jsxs)("div",{className:"p-5",children:[(0,s.jsx)("div",{className:"flex justify-between items-start mb-2",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-cyan-400",children:t.name}),(0,s.jsx)("p",{className:"text-sm text-gray-300",children:t.location})]})}),(0,s.jsx)("p",{className:"text-sm text-gray-400 mb-3 line-clamp-2",children:t.description}),(0,s.jsxs)("div",{className:"flex gap-2 mb-4 flex-wrap",children:[t.amenities.slice(0,4).map(e=>(0,s.jsx)("span",{className:"text-xs bg-purple-500/30 px-2 py-1 rounded-full",children:e},e)),t.amenities.length>4&&(0,s.jsxs)("span",{className:"text-xs bg-purple-500/30 px-2 py-1 rounded-full",children:["+",t.amenities.length-4]})]}),(0,s.jsxs)("div",{className:"flex items-end justify-between mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"text-2xl font-bold text-green-400",children:[o," USDC"]}),(0,s.jsxs)("p",{className:"text-xs text-gray-400",children:["for ",r," night(s)"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("label",{className:"text-sm text-gray-400",children:"Nights:"}),(0,s.jsx)("select",{value:r,onChange:e=>l(Number(e.target.value)),className:"bg-black/30 border border-white/30 rounded px-2 py-1 text-sm",children:[1,2,3,4,5,6,7,10,14].map(e=>(0,s.jsx)("option",{value:e,className:"bg-gray-900",children:e},e))})]})]}),(0,s.jsx)("button",{onClick:()=>i(!0),disabled:0===t.roomsAvailable,className:"w-full py-3 bg-gradient-to-r from-green-500 to-emerald-600 rounded-lg font-semibold hover:opacity-90 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:t.roomsAvailable>0?(0,s.jsx)(s.Fragment,{children:"\uD83D\uDCB3 Book with Solana Pay"}):"Sold Out"})]})]}),(0,s.jsx)(f,{hotel:t,nights:r,isOpen:a,onClose:()=>i(!1),onSuccess:()=>{console.log("Booking completed:",t.id,r,"nights")}})]})}let j=[{id:"1",name:"Solana Grand Miami",location:"Miami Beach, Florida",price:185,image:"https://images.unsplash.com/photo-1566073771259-6a8506099945?w=800&q=80",amenities:["Ocean View","Infinity Pool","Spa","Beach Access","WiFi"],roomsAvailable:4,description:"Luxury beachfront resort with NFT-verified room authenticity",rating:4.8},{id:"2",name:"Crypto Valley Lodge",location:"Zug, Switzerland",price:275,image:"https://images.unsplash.com/photo-1551882547-ff40c63fe5fa?w=800&q=80",amenities:["Mountain View","Ski Access","Hot Tub","Fine Dining","WiFi"],roomsAvailable:2,description:"Alpine retreat in the heart of Switzerland crypto valley",rating:4.9},{id:"3",name:"Blockchain Boutique Tokyo",location:"Shibuya, Tokyo",price:145,image:"https://images.unsplash.com/photo-1542314831-068cd1dbfeeb?w=800&q=80",amenities:["Smart Rooms","Onsen","City View","Robot Concierge","WiFi"],roomsAvailable:6,description:"Tech-forward hotel with AI concierge and smart contracts",rating:4.6},{id:"4",name:"Web3 Wellness Retreat",location:"Bali, Indonesia",price:95,image:"https://images.unsplash.com/photo-1571896349842-33c89424de2d?w=800&q=80",amenities:["Yoga Studio","Organic Dining","Pool","Jungle View","WiFi"],roomsAvailable:8,description:"Eco-friendly wellness resort accepting USDC payments",rating:4.7},{id:"5",name:"DeFi Downtown Dubai",location:"Downtown Dubai, UAE",price:320,image:"https://images.unsplash.com/photo-1512918760513-95f192632b13?w=800&q=80",amenities:["Burj View","Rooftop Bar","Spa","Butler Service","WiFi"],roomsAvailable:3,description:"Ultra-luxury hotel with instant blockchain payments",rating:4.9},{id:"6",name:"NFT Art Hotel Barcelona",location:"Gothic Quarter, Barcelona",price:165,image:"https://images.unsplash.com/photo-1520250497591-112f2f40a3f4?w=800&q=80",amenities:["Art Gallery","Rooftop Pool","Tapas Bar","Historic Location","WiFi"],roomsAvailable:5,description:"Boutique hotel featuring NFT artwork and crypto-native booking",rating:4.5}];function N(){let[e,t]=(0,n.useState)(""),[a,i]=(0,n.useState)([]),[r,o]=(0,n.useState)(!1),c=async()=>{if(!e.trim())return;o(!0),await new Promise(e=>setTimeout(e,1200));let t=e.toLowerCase(),a=j.filter(e=>e.location.toLowerCase().includes(t)||e.amenities.some(e=>t.includes(e.toLowerCase()))||e.name.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||t.includes("luxury")&&e.rating>=4.8||t.includes("under $200")&&e.price<200||t.includes("cheap")&&e.price<150||t.includes("pool")&&e.amenities.includes("Pool")||t.includes("beach")&&e.amenities.includes("Beach Access"));i(a.length>0?a:j),o(!1)};return(0,s.jsx)("main",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 text-white p-8",children:(0,s.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-4xl md:text-5xl font-bold mb-2 bg-gradient-to-r from-cyan-400 to-purple-500 bg-clip-text text-transparent",children:"Solana Booking Agent"}),(0,s.jsx)("p",{className:"text-lg text-gray-300",children:"AI-powered hotel booking on Solana — NFT rooms, instant USDC payments"})]}),(0,s.jsx)(l,{})]}),(0,s.jsxs)("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 mb-8 border border-white/20",children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2 text-cyan-400",children:"Describe your ideal hotel:"}),(0,s.jsx)("textarea",{value:e,onChange:e=>t(e.target.value),placeholder:"Beach resort in Miami with pool, under $200 per night...",className:"w-full h-24 bg-black/30 border border-white/30 rounded-lg p-4 text-white placeholder-gray-500 focus:ring-2 focus:ring-cyan-500 focus:border-transparent resize-none"}),(0,s.jsxs)("div",{className:"flex gap-3 mt-4",children:[(0,s.jsx)("button",{onClick:c,disabled:r||!e,className:"px-6 py-3 bg-gradient-to-r from-cyan-500 to-purple-600 rounded-lg font-semibold disabled:opacity-50 hover:opacity-90 transition",children:r?"\uD83E\uDD16 AI Searching...":"\uD83D\uDD0D Find Hotels"}),(0,s.jsx)("button",{onClick:()=>{t(""),i([])},className:"px-4 py-3 bg-white/10 rounded-lg hover:bg-white/20 transition",children:"Clear"})]}),(0,s.jsx)("p",{className:"text-xs text-gray-400 mt-3",children:'Try: "beach resort", "under $200", "luxury with pool", "Barcelona boutique"'})]}),a.length>0&&(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("h2",{className:"text-xl font-semibold text-cyan-400 mb-4",children:["\uD83C\uDFE8 ",a.length," Hotel",1!==a.length&&"s"," Found"]}),(0,s.jsx)("div",{className:"grid gap-6 md:grid-cols-2",children:a.map(e=>(0,s.jsx)(y,{hotel:e},e.id))})]}),0===a.length&&!r&&(0,s.jsxs)("div",{className:"text-center py-12 text-gray-400",children:[(0,s.jsx)("p",{className:"text-6xl mb-4",children:"\uD83C\uDFD6️"}),(0,s.jsx)("p",{className:"text-xl mb-2",children:"Ready to find your perfect stay?"}),(0,s.jsx)("p",{className:"text-sm",children:"Describe what you're looking for above"})]}),(0,s.jsxs)("footer",{className:"mt-12 pt-8 border-t border-white/10 text-center text-gray-400 text-sm",children:[(0,s.jsx)("p",{children:"Powered by Solana • NFT Room Inventory • USDC Payments"}),(0,s.jsxs)("p",{className:"mt-1",children:[(0,s.jsx)("span",{className:"text-cyan-400",children:"Colosseum Hackathon 2026"})," • Built with Next.js & Metaplex"]})]})]})})}}},function(e){e.O(0,[814,856,979,225,761,971,117,744],function(){return e(e.s=65180)}),_N_E=e.O()}]);